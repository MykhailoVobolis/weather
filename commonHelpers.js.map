{"version":3,"file":"commonHelpers.js","sources":["../src/js/openweather-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["// Додавання бібліотеки Axios\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.openweathermap.org';\nconst API_KEY = '117bcd5592950f9f701a11f5ab982de0';\n\n// Запит до OpenWeather API\nexport async function getWeather(city) {\n  const response = await axios.get('/data/2.5/weather', {\n    params: {\n      q: city,\n      appid: API_KEY,\n      units: 'metric',\n      lang: 'ua',\n    },\n  });\n  return response.data;\n}\n","export function markupWeather(params) {\n  let description = params.weather[0].description;\n  //   let iconWeather = params.weather[0].icon;\n  let temperature = Math.round(params.main.temp);\n  let feelsLikeTemperature = Math.round(params.main.feels_like);\n  let windSpeed = Math.round((params.wind.speed * 1000) / 3600);\n  let name = params.name;\n  let humidity = params.main.humidity;\n\n  return `<div>\n              <img src=\"src/img/clouds.png\" alt=\"weather\" class=\"weather\" />\n              <p class=\"description\">${description}</p>\n            </div>\n            <div class=\"temperature\">\n              <h2>${temperature}°c</h2>\n              <div class=\"feels-like\">\n                <p class=\"feels-like-value\">${feelsLikeTemperature}°c</p>\n                <p>Відчувається як</p>\n              </div>\n            </div>\n            <h1>${name}</h1>\n            <div>\n              <ul class=\"params-weather\">\n                <li class=\"params-weather-item\">\n                  <img src=\"./img/humidity.png\" alt=\"humidity\" />\n                  <div class=\"params-weather-value\">\n                    <p class=\"humidity\">${humidity}%</p>\n                    <p>Вологість</p>\n                  </div>\n                </li>\n                <li class=\"params-weather-item\">\n                  <img src=\"./img/wind.png\" alt=\"wind\" />\n                  <div class=\"params-weather-value\">\n                    <p class=\"wind\">${windSpeed} m/s</p>\n                    <p>Швидкість вітру</p>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>`;\n}\n","import { getWeather } from './js/openweather-api';\nimport { markupWeather } from './js/render-function';\n\nconst fetchWeatherForm = document.querySelector('form');\nconst markupContainer = document.querySelector('.marcup-container');\n\nlet searchQuery = null;\n\nfetchWeatherForm.addEventListener('submit', fetchWeather);\n\nasync function fetchWeather(event) {\n  event.preventDefault();\n  markupContainer.innerHTML = '';\n\n  searchQuery = event.target.elements.search.value.trim();\n\n  if (searchQuery === '') {\n    console.log('The search query cannot be empty');\n    return;\n  }\n\n  try {\n    const data = await getWeather(searchQuery);\n\n    if (!data.name.length) {\n      console.log(\n        'Sorry, there are no city matching your search query. Please try again!'\n      );\n      return;\n    }\n    const markup = markupWeather(data);\n    markupContainer.insertAdjacentHTML('beforeend', markup);\n\n    // console.log(data);\n    // console.log(data.name);\n    // console.log(data.main.temp);\n    // console.log(data.main.feels_like);\n    // console.log(data.weather[0].description);\n    // console.log(data.weather[0].icon);\n    // console.log(Math.round((data.wind.speed * 1000) / 3600));\n    // console.log(data.main.humidity);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    event.target.reset();\n  }\n}\n"],"names":["axios","API_KEY","getWeather","city","markupWeather","params","description","temperature","feelsLikeTemperature","windSpeed","name","humidity","fetchWeatherForm","markupContainer","searchQuery","fetchWeather","event","data","markup","error"],"mappings":"svBAGAA,EAAM,SAAS,QAAU,iCACzB,MAAMC,EAAU,mCAGT,eAAeC,EAAWC,EAAM,CASrC,OARiB,MAAMH,EAAM,IAAI,oBAAqB,CACpD,OAAQ,CACN,EAAGG,EACH,MAAOF,EACP,MAAO,SACP,KAAM,IACP,CACL,CAAG,GACe,IAClB,CCjBO,SAASG,EAAcC,EAAQ,CACpC,IAAIC,EAAcD,EAAO,QAAQ,CAAC,EAAE,YAEhCE,EAAc,KAAK,MAAMF,EAAO,KAAK,IAAI,EACzCG,EAAuB,KAAK,MAAMH,EAAO,KAAK,UAAU,EACxDI,EAAY,KAAK,MAAOJ,EAAO,KAAK,MAAQ,IAAQ,IAAI,EACxDK,EAAOL,EAAO,KACdM,EAAWN,EAAO,KAAK,SAE3B,MAAO;AAAA;AAAA,uCAE8BC,CAAW;AAAA;AAAA;AAAA,oBAG9BC,CAAW;AAAA;AAAA,8CAEeC,CAAoB;AAAA;AAAA;AAAA;AAAA,kBAIhDE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAMoBC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAOZF,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAO/C,CCrCA,MAAMG,EAAmB,SAAS,cAAc,MAAM,EAChDC,EAAkB,SAAS,cAAc,mBAAmB,EAElE,IAAIC,EAAc,KAElBF,EAAiB,iBAAiB,SAAUG,CAAY,EAExD,eAAeA,EAAaC,EAAO,CAMjC,GALAA,EAAM,eAAc,EACpBH,EAAgB,UAAY,GAE5BC,EAAcE,EAAM,OAAO,SAAS,OAAO,MAAM,OAE7CF,IAAgB,GAAI,CACtB,QAAQ,IAAI,kCAAkC,EAC9C,MACD,CAED,GAAI,CACF,MAAMG,EAAO,MAAMf,EAAWY,CAAW,EAEzC,GAAI,CAACG,EAAK,KAAK,OAAQ,CACrB,QAAQ,IACN,wEACR,EACM,MACD,CACD,MAAMC,EAASd,EAAca,CAAI,EACjCJ,EAAgB,mBAAmB,YAAaK,CAAM,CAUvD,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRH,EAAM,OAAO,OACd,CACH"}